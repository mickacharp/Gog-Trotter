<!-- Header which displays when user scroll -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Trouver un restaurant </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Header which displays when user has not scrolled yet -->
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Trouver un restaurant</ion-title>
    </ion-toolbar>
  </ion-header>

  <google-map
    #myGoogleMap
    height="500px"
    width="100%"
    [zoom]="zoom"
    [center]="center"
    [options]="options"
    (mapClick)="eventHandler($event, 'mapClick')"
    (mapDblclick)="eventHandler($event, 'mapDblclick')"
    (mapDrag)="eventHandler($event, 'mapDrag')"
    (mapDragend)="eventHandler($event, 'mapDragend')"
    (mapRightclick)="eventHandler($event, 'mapRightclick')"
    (positionChanged)="eventHandler($event, 'marker_positionChanged')"
    (zoomChanged)="eventHandler($event, 'zoomChanged')"
  >
    <map-marker
      #markerElem="mapMarker"
      *ngFor="let marker of markers"
      [position]="marker.position"
      [label]="marker.label"
      [title]="marker.title"
      [options]="marker.options"
      (mapClick)="openInfo(markerElem, marker.info)"
    >
    </map-marker>

    <map-info-window>{{ infoContent }}</map-info-window>
  </google-map>

  <div>
    <label>Entrez une adresse : </label>
    <input
      #search
      type="text"
      class="my-search-box"
      (keydown.enter)="$event.preventDefault()"
      placeholder="ex: HFC"
      type="text"
    />
  </div>

  <div *ngIf="placeResultInfos">
    <ion-item>
      <ion-label>
        {{ placeResultInfos.address_components[0].long_name }}
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>
        {{ placeResultInfos.address_components[1].long_name }}
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>
        {{ placeResultInfos.address_components[6].long_name }}
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>
        {{ placeResultInfos.address_components[2].long_name }}
      </ion-label>
    </ion-item>
  </div>
</ion-content>
